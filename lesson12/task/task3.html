<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Task 4</title>
  <link rel="stylesheet" href="../style.css" />
</head>

<body>
  <h1>Задача 4</h1>
  <div class="task__item">
    <div class="task__condition">
      <p>Для розглянутих методів сортування спробувати вивести етапи сортування шляхом виведення відповідних
        таблиць за зразком</p>
      <img src="../img/task.png" alt="img">
      <p>Тобто кожного разу після обміну елементів вивести поточний стан масиву на екран.</p>

    </div>
    <a href="../index.html" class="task__link">Повернення на головну сторінку</a>
  </div>
  <h2>Результат рішення</h2>

  <script>
    function createArr() {
      let arrNum = []
      for (let i = 0; i < 10; i++) {
        let arrElement = 1 + Math.floor(Math.random() * 10)
        arrNum.push(arrElement)
      }
      return arrNum
    }
    let arrayForSort = createArr()
    document.write(`Масив до сортування: <br>${arrayForSort}<br><br>`)

    function methodBubble(arr) {
      let changed
      do {
        changed = false
        for (let i = 1; i < arr.length; i++) {
          if (arr[i - 1] > arr[i]) {
            let temp = arr[i - 1]
            arr[i - 1] = arr[i]
            arr[i] = temp
            changed = true
            document.write(`${arr}<br>`)
          }
        }
      } while (changed);
      return arr
    }

    function methodChanged(arr) {
      let leftIndex = 0
      let rightIndex = arr.length - 1

      while (leftIndex < rightIndex) {
        for (let index = leftIndex; index < rightIndex; index++) {
          if (arr[index] > arr[index + 1]) {
            let temp = arr[index]
            arr[index] = arr[index + 1]
            arr[index + 1] = temp
            document.write(`${arr}<br>`)
          }
        }
        rightIndex--
        for (let index = rightIndex; index > leftIndex; index--) {
          if (arr[index] < arr[index - 1]) {
            let temp = arr[index]
            arr[index] = arr[index - 1]
            arr[index - 1] = temp
            document.write(`${arr}<br>`)
          }
        }
        leftIndex++
      }
      return arr
    }

    function methodMoving(arr) {
      for (let k = 0; k < arr.length; k++) {
        const currentEl = arr[k]
        let i = k - 1
        while (i >= 0 && arr[i] > currentEl) {
          arr[i + 1] = arr[i]
          i = i - 1
        }
        arr[i + 1] = currentEl
        document.write(`${arr}<br>`)
      }
      return arr
    }

    let choiceUser = parseInt(prompt(`Введіть метод сортування для відображення:<br> 1.Метод бульбашки.<br> 2. Метод змішуванням.<br> 3. Метод переміщення.`))

    switch (choiceUser) {
      case 1:
        {
          document.write(`<br>Покроковий метод бульбашки:<br>`)
          methodBubble(arrayForSort)
        }
        break;
      case 2:
        {
          document.write(`<br>Покроковий метод змішування:<br>`)
          methodChanged(arrayForSort)
        }
        break;
      case 3:
        {
          document.write(`<br>Покроковий метод переміщення:<br>`)
          methodMoving(arrayForSort)
        }
        break;
      default:
        document.write('Введено не коректні дані.')
        break;
    }


  </script>
</body>

</html>